/* --- GLOBAL STYLES --- */
body { background-color: #020617; color: #e2e8f0; font-family: 'MedievalSharp', cursive; }
.font-old { font-family: 'MedievalSharp', cursive; letter-spacing: 0.05em; }
.glass-panel { background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.15); }
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* --- COMBAT SPECIFIC STYLES --- */
.split-panel {
    position: relative; width: 50%; height: 100%; overflow: hidden;
    border-right: 2px solid #000; border-left: 2px solid #000;
}
.split-panel::after {
    content: ''; position: absolute; inset: 0;
    background: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.9) 100%);
    pointer-events: none; transition: all 0.5s ease-in-out;
}
.split-image { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }

.hp-track {
    width: 100%; height: 24px; background: #1e293b;
    border: 2px solid #0f172a; border-radius: 4px; overflow: hidden;
    box-shadow: inset 0 0 10px #000;
}
.hp-fill { height: 100%; transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: inset 0 2px 0 rgba(255,255,255,0.3); }

.text-glow { text-shadow: 2px 2px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }
.active-turn .split-image { transform: scale(1.1); filter: brightness(1.1); }
.inactive-turn .split-image { filter: grayscale(0.8) brightness(0.5); }

/* Damage Flash Animation */
.taking-damage .split-image { animation: damage-shake 0.4s cubic-bezier(.36,.07,.19,.97) both; filter: sepia(1) hue-rotate(-50deg) saturate(5); }
@keyframes damage-shake {
    10%, 90% { transform: translate3d(-2px, 0, 0) scale(1.1); }
    20%, 80% { transform: translate3d(4px, 0, 0) scale(1.1); }
    30%, 50%, 70% { transform: translate3d(-8px, 0, 0) scale(1.1); }
    40%, 60% { transform: translate3d(8px, 0, 0) scale(1.1); }
}

/* Floating Text Animations */
@keyframes floatUp {
    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
    10% { transform: translate(-50%, -50%) scale(1.5); opacity: 1; }
    70% { transform: translate(-50%, -50%) scale(1.0); opacity: 1; }
    100% { transform: translate(-50%, -150%) scale(0.8); opacity: 0; }
}

.damage-text {
    position: absolute; left: 50%; top: 40%;
    font-family: 'MedievalSharp', cursive; font-weight: 900; 
    font-size: 8rem; color: #ef4444; 
    text-shadow: 4px 4px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;
    pointer-events: none; animation: floatUp 3s ease-out forwards; z-index: 50;
    width: 100%; text-align: center;
}

/* Miss Text Style */
.miss-text {
    position: absolute; left: 50%; top: 40%;
    font-family: 'MedievalSharp', cursive; font-weight: 900; 
    font-size: 8rem; color: #cbd5e1;
    text-shadow: 4px 4px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;
    pointer-events: none; animation: floatUp 3s ease-out forwards; z-index: 50;
    width: 100%; text-align: center; opacity: 0.8;
}

@media (min-width: 768px) {
    .damage-text, .miss-text { font-size: 10rem; }
}

/* --- DICE STYLES --- */
.die-btn {
    position: relative; width: 52px; height: 52px;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0.2; filter: grayscale(1); cursor: not-allowed; transform: scale(0.9);
}
@media (min-width: 1024px) { .die-btn { width: 64px; height: 64px; } }

.die-active {
    opacity: 1; filter: grayscale(0) drop-shadow(0 0 8px rgba(220, 38, 38, 0.6));
    transform: scale(1.1); cursor: pointer; animation: pulse-glow 2s infinite;
}
.die-active:hover { transform: scale(1.2); }

@keyframes pulse-glow {
    0%, 100% { filter: drop-shadow(0 0 5px rgba(220, 38, 38, 0.4)); }
    50% { filter: drop-shadow(0 0 15px rgba(220, 38, 38, 0.8)); }
}
@keyframes roll { 0% { transform: rotate(0deg); } 25% { transform: rotate(15deg); } 75% { transform: rotate(-15deg); } }
.rolling { animation: roll 0.6s infinite; opacity: 1; filter: grayscale(0); }

.die-shape { fill: #b91c1c; stroke: rgba(255,255,255,0.6); stroke-width: 1.5; stroke-linejoin: round; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.5)); }
.die-inner { fill: none; stroke: rgba(255,255,255,0.4); stroke-width: 1; stroke-linecap: round; stroke-linejoin: round; }
.die-text { font-family: sans-serif; font-weight: 800; font-size: 16px; fill: #ffffff; pointer-events: none; text-shadow: 0 1px 2px rgba(0,0,0,0.8); }

/* Auto Fight Glow */
.auto-active { box-shadow: 0 0 15px #facc15; border-color: #facc15; color: #facc15; }
